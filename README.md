# 权力守卫战-Defence Of Thrones

## 游戏概述
本游戏是基于 C++和 Qt 框架开发的一款中世纪魔幻风格塔防游戏，玩家需要在地图上放置不同的防御塔，防止敌人到达目标。游戏需要有多个关卡和多种塔以及敌人类型，并提供建造, 升级塔; 攻击敌人; 选择关卡等功能。

## 系统架构
### 1. 游戏引擎与框架

- **开发语言**: C++

- **UI 框架**: Qt (Qt Widgets)

- **图形库**: QGraphicsView, QGraphicsScene 用于场景管理

- **声音库**: Qt Multimedia

### 2. 项目文件架构
```
\DefenceOfThrones
|---\dist // 可执行文件与相关配置文件存储
|   |---src.exe
|   |---\dotFiles // 存储存档与关卡文件信息
|	|---\其他配置文件
|---\docs // 项目文档
|	|---\documents // 文档信息
|	|---\pdfs // 图片版文档或者一些设计图
|	|---\report // 报告用材料
|---\files // 项目文件备份,同dotFiles
|	|---archive.json
|	|---levelOne.json
|	|---levelOneHard.json
|	|---levelTwo.json
|	|---levelTwoHard.json
|	|---levelThree.json
|	|---levelThreeHard.json
|---\src // 游戏源代码
|	|---\asset // 游戏图片素材
|	|---\build // 构建文件
|	|---\font // 游戏内字体资源
|	|---\levelData //游戏关卡资源
|	|---\music // 游戏内音乐资源
|	|---.gitignore
|	|---asset.qrc //qt资源配置文件
|	|---Archer.c(cpp) //弓箭手类
|	|---Button //按钮类
|	|---DeadAlive //异鬼类
|	|---Dragon // 火龙类
|	|---...(其他所有类,此略)
|---.gitignore
|---README.md
```

## 游戏内容设计

### 主题
本游戏是中世纪战争主题塔防游戏, 并融入了大量魔幻元素. 玩法上借鉴保卫萝卜, 在主题上借鉴了美剧《权力的游戏》(原著小说: 冰与火之歌). 玩家将在游戏里, 使用权游中的一些防御器具, 史塔克家族的角色, 以及龙妈和她的军队, 来抵抗来自兰尼斯特家族和夜王大军的攻击.

### 防御塔与投掷物
- **弓箭兵 (Archer):** 射出弓箭; 特殊升级是射出魔法火箭 (带火的箭矢), 可以点燃敌人持续掉血, 对于异鬼军团单位伤害更高;
- **投石车 (StoneThrower):** 投掷伤害更高, 给敌人减速效果的石头; 特殊升级是一次投出三块石头;
- **琼恩·雪诺 (JohnSnow):** 近战平 A 面前的敌人, 同时给周围的己方单位提升伤害; 特殊升级是每四下攻击召唤一只小狼去攻击敌人 (小狼视作投掷物)
- **卓耿 (Dragon):** 喷出具有高额伤害的魔法龙焰弹, 一次可以伤害两个单位, 可以点燃敌方单位, 龙焰 (弹) 对于异鬼军团伤害更高; 特殊升级是投掷物转化成魔法龙焰, 在地图上成一条直线, 具有穿透地形与敌方单位的能力.

### 敌人
- **异鬼士兵 (DeadAlive):** 异鬼军团单位, 基础敌方单位, 给目标带来一点伤害. 出现在第一, 二关中.
- **野人 (Wilder):** 人类单位, 血量较多, 给目标带来一点伤害. 出现在第一关
- **红女巫-梅丽珊卓 (Melisandre):** 人类单位, 移速较快, 可复活自己一次, 给目标带来一点伤害. 出现在全部三关中.
- **韦塞里昂 (Vesalion):** 异鬼军团单位, 血量较多, 移速很快, 空中单位, 无法被琼恩雪诺攻击到. 它是被夜王杀死并复活的龙, 可以喷出蓝色火焰, 所以对目标可以带来五点伤害. 出现在第二关.
- **夜王 (NightKing):** 异鬼军团单位, 异鬼军团的王, 第二关的 BOSS. 血量非常丰厚, 给目标带来三点伤害. 可以每八秒在自己的位置召唤一只异鬼士兵.
- **兰尼斯特士兵 (LannisterSoldier):** 人类单位, 基础单位, 带来一点伤害. 出现在第三关.
- **葛雷乔伊士兵 (GreyjoySoldier):** 人类单位, 移速较快. 出现在第三关.
- **魔山 (Mountain):** 人类单位, 血量非常非常丰厚, 给目标带来五点伤害. 出现在第三关.
- **弑君者-詹姆·兰尼斯特 (KingSlayer):** 人类单位, 血量丰厚, 移速很快, 可给目标带来三点伤害. 第三关的 BOSS.

### 地图, 关卡与障碍物
- **金币:** shillings;**玩家血量**: health
- **第一关:** 绝境长城 (TheWall). 守卫目标是黑城堡 (CastleBlack), 敌人出生点是一颗巨树 (GiantTree)(被占领的生命之树). 障碍物类型是树木 (Tree), 巨石 (Stone), 冰屋 (IceBurg). 背景图片选用权游绝境长城的图片.
- **第二关:** 临冬城 (WinterFall). 守卫目标是临冬城 (WinterFall), 敌人出生点是黑城堡 (CastleBlack). 障碍物类型是冰封湖泊 (Lake), 马厩 (Stable), 木屋 (Cabin). 背景图片选择临冬城的内景图.
- **第三关:** 君临城 (KingsLanding). 守卫目标是红堡 (RedKeep), 敌人出生点是贝勒大教堂 (Baelor). 障碍物类型是楼房 (Buildings)(建议设计两种不同贴图的楼房, 其他特性完全相同, 以实现外观的优美), 城墙与城门 (Walls), 钟楼 (BellBuilding). 背景图片选择君临城的图片.
### 艺术与音乐风格
- **艺术风格**：采用暗黑奇幻风格，建筑和单位设计应反映出《权力的游戏》的美学。
- **配乐与音效**：使用原作的音乐元素或类似风格的配乐，增加沉浸感。

## 游玩须知
*不用知道什么, just play! 如果你曾经看过权游,希望这个游戏能让你找回一点当年的乐趣.*

## 写在最后
这个游戏是由我们小组的五位成员

我, 还有 @Ken @TrroJay @jiming01 @cwnju

共同参与完成的, 真的很感谢大家的辛苦付出. 
大家为了完成各自的部分都付出了非常非常多的心血与努力, 在项目截至前一天晚上我们一起熬到了四点半改代码, 
这才有了现在这个看上去还不错的游戏, 呼~ 

尽管诚实地说, 目前为止游戏仍有两个比较严重的bug(而且真的很难改掉), 但它能有现在的样子我已经挺满意的啦. 
在开发的过程中我们遇到了很多的问题, 比如很多人都是第一次使用GitHub进行代码管理, 在合并时产生了各种各样的问题; 
再比如开发过程中难以独立测试, 导致最后整合在一起要修复很多bug. 所幸, 我和我的队友们齐心协力,攻克的大部分的bug. 

这个游戏其实可以更好玩,更还原, 比如说原本期待设计各大家族, 玩家可以选择家族,从而有不同的防御塔供选择; 
还有设计真正的权游地图, 玩家可以自由(在已解锁的地方里)选择攻打/防守哪座城池. 玩家还可以加入自己的场外魔法来帮助攻城或者防守. 
不过可惜的是由于技术力(时间, 人手)的限制, 这些功能未能实现.


**最后的最后, 欢迎有改进想法的各位提交你的PR, 我们一起将这个游戏做的更好~**

**作者email: 2423843425@qq.com**